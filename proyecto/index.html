
<!DOCTYPE html>
<html lang="en">
	<head>
		<title>three.js webgl - geometry - cube</title>
		<meta charset="utf-8">
		<style>
			body {
				margin: 0px;
<<<<<<< HEAD
				background-color: #ffffff;
=======
				background-color: #FFFFFF;
>>>>>>> origin/master
				overflow: hidden;
			}
		</style>
	</head>
	<body>

		<script src="js/three.min.js"></script>
		<script src="http://threejs.org/examples/js/controls/OrbitControls.js"></script>

		<script>

			var camera, escena, renderer, curve;
			var obj1, obj2, obj3, Baul ,cube6,tapa;
			var camera, escena, renderer;
			var obj1, obj2, obj3, Baul ,cube6,tapa,piso;
			var angulo=0;
			var j=0;
			var controls;
			var subdivision;
			init();
			animate();

			function init() {
				
				curve = new THREE.CubicBezierCurve3(
					new THREE.Vector3( 120, 300, 400),
					new THREE.Vector3( 120, 300, 400 ),
					new THREE.Vector3( 120, 300, 700 ),
					new THREE.Vector3( 120, 300, 700)
				);
				camera = new THREE.PerspectiveCamera( 90, window.innerWidth / window.innerHeight, 1, 1000 );
				//camera.position.z = 600;
				//camera.position.y = 300;
				//camera.position.x = 120;


				escena = new THREE.Scene();

				var Cubo = new THREE.BoxGeometry( 50, 50, 50 );
				var CuboTextura = THREE.ImageUtils.loadTexture('img/crate.gif');
				var CuboTextura = new THREE.MeshPhongMaterial({ map:CuboTextura });
				obj1 = new THREE.Mesh( Cubo, CuboTextura );
				obj1.castShadow=true;
				escena.add( obj1 );
				
				//var pointLight = new THREE.PointLight(0xFFFFFF); 
				//pointLight.position.set(100, 100, 250); 
				//escena.add(pointLight);

				var luzAmbiente = new THREE.AmbientLight(0xFFFFFF);
				escena.add(luzAmbiente);
				//var luzDireccional = new THREE.DirectionalLight(0xFFFFFF,1);
				//luzDireccional.position.set(100,100,100);
				//escena.add(luzDireccional);
				
				var esferaTextura = THREE.ImageUtils.loadTexture('img/land_ocean_ice_cloud_2048.jpg');
				var esferaMaterial = new THREE.MeshPhongMaterial({ map:esferaTextura });
				var esfera = new THREE.SphereGeometry( 30, 70, 70 )
				obj2 = new THREE.Mesh( esfera, esferaMaterial );
				obj2.position.set( -80, 0, 0 );
				obj2.castShadow=true;
				escena.add( obj2 );



				var piramide = new THREE.CylinderGeometry( 0, 40, 40, 4, 1 );
				var PirTextura = THREE.ImageUtils.loadTexture('img/pira.png');
				var PirTextura = new THREE.MeshPhongMaterial({ map:PirTextura });
				obj3 = new THREE.Mesh(piramide, PirTextura);
				obj3.position.set( 80, 0, 0 );
				obj3.castShadow=true;
				escena.add( obj3 );


				var geom = new THREE.BoxGeometry( 800, 0.0, 800 );
				var PisoTextura = THREE.ImageUtils.loadTexture('img/arena.png');
				var PisoTextura = new THREE.MeshPhongMaterial({ map:PisoTextura });
				piso = new THREE.Mesh( geom, PisoTextura );
				piso.position.set(0.0, -35.0, 0.0);

//cara superior
				var cs1 = new THREE.MeshPhongMaterial( { map: THREE.ImageUtils.loadTexture('img/ladosBaul.png') } ); //derecha
				var cs2 = new THREE.MeshPhongMaterial( { map: THREE.ImageUtils.loadTexture('img/ladosBaul.png') } );//izq
				var cs3 = new THREE.MeshPhongMaterial( { map: THREE.ImageUtils.loadTexture('img/baul.png') } );//arriba
				var cs4 = new THREE.MeshPhongMaterial( { map: THREE.ImageUtils.loadTexture('img/interiorBaul.png') } );//abajo
				var cs5 = new THREE.MeshPhongMaterial( { map: THREE.ImageUtils.loadTexture('img/ladosBaul.png') } );//adelante
				var cs6 = new THREE.MeshPhongMaterial( { map: THREE.ImageUtils.loadTexture('img/ladosBaul.png') } );//atras
				var materials1 = [cs1, cs2, cs3, cs4, cs5, cs6];
				var materiales1 = new THREE.MeshFaceMaterial( materials1 );

//cara de adelante
				var material1 = new THREE.MeshPhongMaterial( { map: THREE.ImageUtils.loadTexture('img/ladosBaul.png') } );
				var material2 = new THREE.MeshPhongMaterial( { map: THREE.ImageUtils.loadTexture('img/ladosBaul.png') } );
				var material3 = new THREE.MeshPhongMaterial( { map: THREE.ImageUtils.loadTexture('img/ladosBaul.png') } );
				var material4 = new THREE.MeshPhongMaterial( { map: THREE.ImageUtils.loadTexture('img/ladosBaul.png') } );
				var material5 = new THREE.MeshPhongMaterial( { map: THREE.ImageUtils.loadTexture('img/baul.png') } );
				var material6 = new THREE.MeshPhongMaterial( { map: THREE.ImageUtils.loadTexture('img/interiorBaul.png') } );
				var materials2 = [material1, material2, material3, material4, material5, material6];
				var materiales2 = new THREE.MeshFaceMaterial( materials2 );

//cara de atras
				var material1 = new THREE.MeshPhongMaterial( { map: THREE.ImageUtils.loadTexture('img/ladosBaul.png') } );
				var material2 = new THREE.MeshPhongMaterial( { map: THREE.ImageUtils.loadTexture('img/ladosBaul.png') } );
				var material3 = new THREE.MeshPhongMaterial( { map: THREE.ImageUtils.loadTexture('img/ladosBaul.png') } );
				var material4 = new THREE.MeshPhongMaterial( { map: THREE.ImageUtils.loadTexture('img/ladosBaul.png') } );
				var material5 = new THREE.MeshPhongMaterial( { map: THREE.ImageUtils.loadTexture('img/interiorBaul.png') } );
				var material6 = new THREE.MeshPhongMaterial( { map: THREE.ImageUtils.loadTexture('img/baul.png') } );
				var materials3 = [material1, material2, material3, material4, material5, material6];
				var materiales3 = new THREE.MeshFaceMaterial( materials3 );

//cara de lado izq
				var material1 = new THREE.MeshPhongMaterial( { map: THREE.ImageUtils.loadTexture('img/interiorBaul.png') } );
				var material2 = new THREE.MeshPhongMaterial( { map: THREE.ImageUtils.loadTexture('img/baul.png') } );
				var material3 = new THREE.MeshPhongMaterial( { map: THREE.ImageUtils.loadTexture('img/ladosBaul.png') } );
				var material4 = new THREE.MeshPhongMaterial( { map: THREE.ImageUtils.loadTexture('img/ladosBaul.png') } );
				var material5 = new THREE.MeshPhongMaterial( { map: THREE.ImageUtils.loadTexture('img/ladosBaul.png') } );
				var material6 = new THREE.MeshPhongMaterial( { map: THREE.ImageUtils.loadTexture('img/ladosBaul.png') } );
				var materials4 = [material1, material2, material3, material4, material5, material6];
				var materiales4 = new THREE.MeshFaceMaterial( materials4 );
//cara de lado der

				var material1 = new THREE.MeshPhongMaterial( { map: THREE.ImageUtils.loadTexture('img/baul.png') } );
				var material2 = new THREE.MeshPhongMaterial( { map: THREE.ImageUtils.loadTexture('img/interiorBaul.png') } );
				var material3 = new THREE.MeshPhongMaterial( { map: THREE.ImageUtils.loadTexture('img/ladosBaul.png') } );
				var material4 = new THREE.MeshPhongMaterial( { map: THREE.ImageUtils.loadTexture('img/ladosBaul.png') } );
				var material5 = new THREE.MeshPhongMaterial( { map: THREE.ImageUtils.loadTexture('img/ladosBaul.png') } );
				var material6 = new THREE.MeshPhongMaterial( { map: THREE.ImageUtils.loadTexture('img/ladosBaul.png') } );
				var materials5 = [material1, material2, material3, material4, material5, material6];
				var materiales5 = new THREE.MeshFaceMaterial( materials5 );

//cara de abajo
				var material1 = new THREE.MeshPhongMaterial( { map: THREE.ImageUtils.loadTexture('img/ladosBaul.png') } );
				var material2 = new THREE.MeshPhongMaterial( { map: THREE.ImageUtils.loadTexture('img/ladosBaul.png') } );
				var material3 = new THREE.MeshPhongMaterial( { map: THREE.ImageUtils.loadTexture('img/interiorBaul.png') } );
				var material4 = new THREE.MeshPhongMaterial( { map: THREE.ImageUtils.loadTexture('img/baul.png') } );
				var material5 = new THREE.MeshPhongMaterial( { map: THREE.ImageUtils.loadTexture('img/ladosBaul.png') } );
				var material6 = new THREE.MeshPhongMaterial( { map: THREE.ImageUtils.loadTexture('img/ladosBaul.png') } );
				var materials6 = [material1, material2, material3, material4, material5, material6];
				var materiales6 = new THREE.MeshFaceMaterial( materials6 );


				//atras
				var geometry1 = new THREE.BoxGeometry( 300, 70, 8);
				var cube1 = new THREE.Mesh( geometry1, materiales3 );
				cube1.position.set(0.0, 5.0, -80);
				//abajo
				var geometry2 = new THREE.BoxGeometry( 300, 8, 200 );
				var cube2 = new THREE.Mesh( geometry2, materiales6 );
				//cube2.receiveShadow();
				cube2.position.set(0.0, -30.0, 20.0);
				//izquierda
				var geometry3 = new THREE.BoxGeometry( 8, 70, 200 );
				var cube3 = new THREE.Mesh( geometry3, materiales4 );
				cube3.position.set(-150.0, 5.0, 20.0);
				//derecha
				var geometry4 = new THREE.BoxGeometry( 8, 70, 200 );
				var cube4 = new THREE.Mesh( geometry4, materiales5 );
				cube4.position.set(150.0, 5.0, 20.0);
				//delantera
				var geometry5 = new THREE.BoxGeometry( 300, 70, 8);
				var cube5 = new THREE.Mesh( geometry5, materiales2 );
				cube5.position.set(0.0, 5.0, 120.0);
				 
				//tapa
				tapa = new THREE.Object3D();
				var geometry6 = new THREE.BoxGeometry( 300, 6, 200 );
				cube6 = new THREE.Mesh( geometry6, materiales1 );
				cube6.position.set(0.0, 0.0, 100.0);
				tapa.position.set(0.0, 40.0, -80.0)
				tapa.add(cube6)


				
			    escena.add( cube1 );
			    escena.add( cube2 );
			    escena.add( cube3 );
			    escena.add( cube4 );
			    escena.add( cube5 );
			    escena.add( tapa );
			    escena.add( piso );
				


				renderer = new THREE.WebGLRenderer();
				renderer.setPixelRatio( window.devicePixelRatio );
				//renderer.setSize( window.innerWidth, window.innerHeight );
				renderer.setSize( 800, 600 );
				document.body.appendChild( renderer.domElement );
				renderer.shadowMapEnabled=true;
				
				controls = new THREE.OrbitControls(camera,renderer.domElement);
				window.addEventListener( 'resize', onWindowResize, false );

			}

			function onWindowResize() {

				camera.aspect = window.innerWidth / window.innerHeight;
				camera.updateProjectionMatrix();
				

				renderer.setSize( window.innerWidth, window.innerHeight );

			}
			

			function animate() {

				requestAnimationFrame( animate );

				//obj1.rotation.x += 0.005;
				obj1.rotation.y += 0.01;

				//obj2.rotation.x += 0.005;
				obj2.rotation.y += 0.01;

				//obj3.rotation.x += 0.005;
				obj3.rotation.y += 0.01;

				var time = Date.now() * 0.0005;

				if (camera.position.x >=-400){
					camera.position.x = Math.sin( time * 0.3 ) * 200;

				}
				
				
				//camera.position.z = Math.sin( time * 0.3 ) * 200;



				if( angulo >=0 && angulo <= 180){
					tapa.rotation.x -=0.005;
					angulo += 1;
					if (angulo ==180)
						angulo=-180;

				};

				if ( angulo <0 && angulo >= -180){
					tapa.rotation.x +=0.005;
					angulo += 1;
					if (angulo ==-1)
						angulo=0;
				};
				
				subdivision = curve.getPoints(25);
				if (j==25)
					j=-1;
				j+=1;
				
				camera.position.set(subdivision[j]);
				camera.lookAt(new THREE.Vector3(0,0,0));
				renderer.render( escena, camera );
				

			}
			
			function animateOpenClose (esperiodica){
				if (esperiodica){
					
					
				}
				
			}

		</script>

	</body>
</html>